globals
	constant integer GOBLIN_TOWN_HALL                                = 'o00O' // tier 1-3
	constant integer GOBLIN_BARRACKS                                 = 'o011' // barracks
	constant integer GOBLIN_ARCANE_LABORATORY                        = 'o014' // sanctum/damned temple
	constant integer GOBLIN_FUEL_PUMP                                = 'o00S' // lumber will and blacksmith
	constant integer GOBLIN_SHOP                                     = 'o01A' // shop
	constant integer GOBLIN_TANK_FACTORY                             = 'o00Z' // slaughterhouse/barracks for stronger units at tier 2
	constant integer GOBLIN_AIR_FIELD                                = 'o00R' // totem/strong units at tier 3
	constant integer GOBLIN_HUT                                      = 'o019' // farm
	constant integer GOBLIN_TOWER                                    = 'o00U' // tower
	constant integer GOBLIN_ROCKET_TOWER_1                           = 'o00W' // tower 1
	constant integer GOBLIN_ROCKET_TOWER_2                           = 'o00X' // tower 2
	constant integer GOBLIN_ROCKET_TOWER_3                           = 'o00Y' // tower 3
	constant integer GOBLIN_ALTAR                                    = 'o00T' // altar
	constant integer GOBLIN_HEAVY_TANK                               = 'o01G' // special building
	
	constant integer GOBLIN_LABORER                                  = 'h02L' // worker
	constant integer GOBLIN_SHREDDER                                 = 'n03W' // lumber worker
	constant integer GOBLIN_FLAMETHROWER                             = 'o013'
	constant integer GOBLIN_FLAME_TANK                               = 'h02D'
	constant integer GOBLIN_MAGE                                     = 'o010'
	constant integer GOBLIN_SORCERESS                                = 'o012'
	constant integer GOBLIN_FLAME_SHREDDER                           = 'o00V'
	constant integer GOBLIN_ASSAULT_TANK                             = 'h02F'
	constant integer GOBLIN_WAR_ZEPPELIN                             = 'n03T' // frost wyrm
	constant integer GOBLIN_AIR_DRONE                                = 'h02G'
	constant integer GOBLIN_SAPPER                                   = 'n03V'
	constant integer OGRE_GOBLIN_SQUAD                               = 'o01C'
	constant integer GOBLIN_EMPEROR                                  = 'h02E' // tauren
	constant integer GOBLIN_STEAM_ROLLER                             = 'h02K' // Obsidian Statue

	constant integer UPG_GOBLIN_STEEL_RWEAPONS                       = 'R033'
	constant integer UPG_GOBLIN_STEEL_WEAPONS                        = 'R02M'
	constant integer UPG_GOBLIN_STEEL_ARMOR                          = 'R031'
	constant integer UPG_GOBLIN_AIR_SUPPLIES                         = 'R02H'
	constant integer UPG_GOBLIN_BARRAGE                              = 'R02N'
	constant integer UPG_GOBLIN_CHEMISTRY                            = 'R02L'
	constant integer UPG_GOBLIN_CLUSTER_ROCKETS                      = 'R02Y'
	constant integer UPG_GOBLIN_CUT_DOWN_TREES                       = 'R039'
	constant integer UPG_GOBLIN_DEMOLISH                             = 'R02R'
	constant integer UPG_GOBLIN_ENGINEERING                          = 'R02S'
	constant integer UPG_GOBLIN_EXPLOSIVE_BARREL                     = 'R02W'
	constant integer UPG_GOBLIN_EXPLOSIVES                           = 'R02J'
	constant integer UPG_GOBLIN_FLAME_GRENADES                       = 'R02T'
	constant integer UPG_GOBLIN_FUEL                                 = 'R02Q'
	constant integer UPG_GOBLIN_WAR_ZEPPELIN_BOMBS                   = 'R034'
	constant integer UPG_GOBLIN_IMPROVED_CONSTRUCTION                = 'R030'
	constant integer UPG_GOBLIN_MOBILE_TURRET                        = 'R02U'
	constant integer UPG_GOBLIN_OBSERVATORY                          = 'R02I'
	constant integer UPG_GOBLIN_OIL_DRILLING                         = 'R02V'
	constant integer UPG_GOBLIN_REPAIR                               = 'R02K'
	constant integer UPG_GOBLIN_BANKING                              = 'R02P'
	constant integer UPG_GOBLIN_LUMBER                               = 'R02O'
	constant integer UPG_GOBLIN_BACKPACK                             = 'R02G'
	
	constant integer UPG_TEMPLE_OF_DEMIGODS_BLUEPRINTS               = 'R00B'
	constant integer UPG_STORM_PROTECTION                            = 'R029'
	constant integer UPG_EVOLUTION                                   = 'R00U'
	constant integer UPG_IMPROVED_POWER_GENERATOR                    = 'R01T'
	constant integer UPG_IMPROVED_MOUNT                              = 'R024'

	constant integer ALCHEMIST                                       = 'Nalc'

    constant integer TRANSMUTE                                       = 'ANtm'
    constant integer HEALING_SPRAY                                   = 'ANhs'
    constant integer ACID_BOMB                                       = 'ANab'
    constant integer CHEMICAL_RAGE                                   = 'ANcr'

    constant integer TINKER                                          = 'Ntin'

    constant integer ROBO_GOBLIN                                     = 'ANrg'
    constant integer CLUSTER_ROCKETS                                 = 'ANcs'
    constant integer ENGINEERING                                     = 'ANeg'
    constant integer POCKET_FACTORY                                  = 'ANsy'

    constant integer GOBLIN_CITIZEN_MALE                             = 'n03Y'
    constant integer GOBLIN_CITIZEN_FEMALE                           = 'n03Z'
    constant integer GOBLIN_HOUSING                                  = 'h02H'
	constant integer PORTAL                                          = 'h014'
	constant integer POWER_GENERATOR                                 = 'n025'
	constant integer RESEARCH_TENT                                   = 'n042'
	
	constant integer GRYPHON_MOUNT                                   = 'h004'
	constant integer WYVERN_MOUNT                                    = 'o003'
	constant integer FROST_WYRM_MOUNT                                = 'u004'
	constant integer CHIMAERA_MOUNT                                  = 'e005'
	constant integer NETHER_DRAKE_MOUNT                              = 'n007'

	constant integer SHREDDER                                        = 'ngir'
	constant integer AI_LABORATORY                                   = 'h01T'
endglobals

//===========================================================================
// Calculate the modulus/remainder of (dividend) divided by (divisor).
// Examples:  18 mod 5 = 3.  15 mod 5 = 0.  -8 mod 5 = 2.
//
function ModuloInteger takes integer dividend, integer divisor returns integer
    local integer modulus = dividend - (dividend / divisor) * divisor

    // If the dividend was negative, the above modulus calculation will
    // be negative, but within (-divisor..0).  We can add (divisor) to
    // shift this result into the desired range of (0..divisor).
    if (modulus < 0) then
        set modulus = modulus + divisor
    endif

    return modulus
endfunction

function ChooseHeroSkill takes nothing returns integer
    local integer curHero = GetHeroId()
    local integer level = GetHeroLevelAI()
    local integer mod = ModuloInteger(level, 4)
    local boolean skillUlti = ModuloInteger(level, 6) == 0 and level / 6 <= 9

    if (curHero == ALCHEMIST) then
        if (skillUlti) then
            return TRANSMUTE
        elseif (mod == 0) then
            return HEALING_SPRAY
        elseif (mod == 1) then
            return ACID_BOMB
        elseif (mod == 2) then
            return CHEMICAL_RAGE
        endif
    elseif (curHero == TINKER) then
        if (skillUlti) then
            return ROBO_GOBLIN
        elseif (mod == 0) then
            return CLUSTER_ROCKETS
        elseif (mod == 1) then
            return ENGINEERING
        elseif (mod == 2) then
            return POCKET_FACTORY
        endif
    endif

    return 'Aamk'
endfunction

function InitHero takes nothing returns nothing
    if (GetUnitCountDone(ALCHEMIST) > 0) then
        set hero_id = ALCHEMIST
    elseif (GetUnitCountDone(TINKER) > 0) then
        set hero_id = TINKER
    endif
endfunction

function UpdateWorkers takes nothing returns nothing
	loop
		call SetGoldPeons(5 + GetUnitCount(GOBLIN_HOUSING) * 3)
		call SetWoodPeons(5)
		call HarvestGold(0, 5 + GetUnitCount(GOBLIN_HOUSING) * 3)
        call HarvestWood(0, 5)
		call Sleep(1)
	endloop
endfunction

function ConfigureAI takes nothing returns nothing
    call SetTargetHeroes( true )
    call SetUnitsFlee( true )
    call SetHeroesFlee( true )
    call SetPeonsRepair( true )
    call SetHeroesBuyItems( true )
    call SetHeroesTakeItems( true )
    call SetSlowChopping( false )
	call SetWatchMegaTargets( true )
	call SetIgnoreInjured( false )
	call SetGroupsFlee( false )
	call SetCaptainChanges ( false )
	call SetSmartArtillery ( true )
    call GroupTimedLife ( true )
    call SetRandomPaths( true )
    call SetDefendPlayer( true )
endfunction

function BuildingStrategy takes nothing returns nothing
    // **********************************
    // *      Building Strategy         *
    // **********************************
    // Tier 1 Buildings
    call SetReplacements( 1, 2, 3 )
	call SetBuildUnit( 1, GOBLIN_TOWN_HALL )
	call SetBuildUnit( 22, GOBLIN_LABORER )
	call SetBuildUnit( 4, GOBLIN_SHREDDER )
	call SetBuildUnit( 1, GOBLIN_FUEL_PUMP )
	call SetBuildUnit( 1, GOBLIN_ALTAR )
	call SetBuildUnit( 5, GOBLIN_HUT )
	call SetBuildUnit( 2, GOBLIN_CITIZEN_MALE )
	call SetBuildUnit( 1, AI_LABORATORY )
	call SetBuildUnit( 2, GOBLIN_HOUSING )
	call SetBuildUnit( 2, GOBLIN_CITIZEN_FEMALE )
	call SetBuildUnit( 2, GOBLIN_BARRACKS )
    call SetBuildUnit( 2, GOBLIN_TOWER )
	call SetBuildUnit( 1, POWER_GENERATOR )
	call SetBuildUnit( 1, RESEARCH_TENT )
    call SetBuildUnit( 1, GOBLIN_SHOP )
	call SetBuildUnit( 1, GOBLIN_ARCANE_LABORATORY )
	call SetBuildUnit( 1, GOBLIN_TANK_FACTORY )
	call SetBuildUnit( 1, GOBLIN_AIR_FIELD )
	
	call SetBuildUpgr( 2, UPG_GOBLIN_LUMBER )
	call SetBuildUpgr( 2, UPG_GOBLIN_BANKING )
	call SetBuildUpgr( 3, UPG_GOBLIN_IMPROVED_CONSTRUCTION )
	call SetBuildUpgr( 3, UPG_GOBLIN_STEEL_RWEAPONS )
	call SetBuildUpgr( 3, UPG_GOBLIN_STEEL_WEAPONS )
    call SetBuildUpgr( 3, UPG_GOBLIN_STEEL_ARMOR )

    call SetBuildUpgr( 1, UPG_GOBLIN_OBSERVATORY )
    call SetBuildUpgr( 1, UPG_GOBLIN_FUEL )
    call SetBuildUpgr( 1, UPG_GOBLIN_CHEMISTRY )
    call SetBuildUpgr( 1, UPG_GOBLIN_REPAIR )
    call SetBuildUpgr( 1, UPG_GOBLIN_ENGINEERING )

    call SetBuildUpgr( 1, UPG_GOBLIN_MOBILE_TURRET )
    call SetBuildUpgr( 1, UPG_GOBLIN_EXPLOSIVES )
    call SetBuildUpgr( 1, UPG_GOBLIN_FLAME_GRENADES )
    call SetBuildUpgr( 1, UPG_GOBLIN_BARRAGE )
    call SetBuildUpgr( 1, UPG_GOBLIN_CLUSTER_ROCKETS )
    call SetBuildUpgr( 1, UPG_GOBLIN_DEMOLISH )
    call SetBuildUpgr( 1, UPG_GOBLIN_AIR_SUPPLIES )
    call SetBuildUpgr( 1, UPG_GOBLIN_WAR_ZEPPELIN_BOMBS )
    call SetBuildUpgr( 1, UPG_GOBLIN_EXPLOSIVE_BARREL )
    call SetBuildUpgr( 1, UPG_GOBLIN_CUT_DOWN_TREES )
    call SetBuildUpgr( 1, UPG_GOBLIN_OIL_DRILLING )
	
	call SetBuildUpgr( 1, UPG_TEMPLE_OF_DEMIGODS_BLUEPRINTS )
	call SetBuildUpgr( 1, UPG_STORM_PROTECTION)
	
	call SetBuildUpgr( 1, UPG_GOBLIN_BACKPACK )
	
	call SetBuildUpgr( 1000, UPG_EVOLUTION )
	call SetBuildUpgr( 100, UPG_IMPROVED_POWER_GENERATOR )
	call SetBuildUpgr( 100, UPG_IMPROVED_MOUNT )
    // **********************************
    // *    End Building Strategy       *
    // **********************************
endfunction

function AttackWithMount takes nothing returns nothing
	if (GetUnitCount(GRYPHON_MOUNT) > 0) then
		call CampaignAttacker( 0, 1, GRYPHON_MOUNT )
	endif
	if (GetUnitCount(WYVERN_MOUNT) > 0) then
		call CampaignAttacker( 0, 1, WYVERN_MOUNT )
	endif
	if (GetUnitCount(FROST_WYRM_MOUNT) > 0) then
		call CampaignAttacker( 0, 1, FROST_WYRM_MOUNT )
	endif
	if (GetUnitCount(CHIMAERA_MOUNT) > 0) then
		call CampaignAttacker( 0, 1, CHIMAERA_MOUNT )
	endif
	if (GetUnitCount(NETHER_DRAKE_MOUNT) > 0) then
		call CampaignAttacker( 0, 1, NETHER_DRAKE_MOUNT )
	endif
endfunction

function AddStandardUnitsToAttackWave takes nothing returns nothing
	call PurchaseZeppelin()
	call AttackWithMount()
    call CampaignAttacker( 0, 1, hero_id )
endfunction

//===========================================================================
// Basic attack functionality
//===========================================================================
function AttackTarget takes unit target, boolean addAlliance returns nothing
    if (target == null) then
        return
    endif
    if (addAlliance) then
        call SetAllianceTarget( target )
    endif
    call FormGroup( 3, true )
    call AttackMoveKillA( target )
    if (not addAlliance) then
        call SetAllianceTarget( null )
    endif
endfunction

//===========================================================================
// Initiates an attack based on target priorities
//===========================================================================
function LaunchAttack takes nothing returns nothing
    local unit target = null
    local boolean setAlly = true

    // Don't launch any attack while town is threatened
    if (TownThreatened()) then
        call Sleep( 2 )
        return
    endif

    // Target Priority #1
    if (target == null) then
        set target = GetAllianceTarget()
        if (target != null) then
            set setAlly = false
        endif
    endif

    // Target Priority #2
    if (target == null) then
        set target = GetExpansionFoe()
        if (target != null) then
            set take_exp = false
        endif
    endif

    // Target Priority #3
    if (target == null) then
        set target = GetMegaTarget()
    endif

    // Target Priority #4
    if (target == null) then
        set target = GetEnemyExpansion()
    endif

    // Target Priority #5
    if (target == null) then
        set target = GetEnemyExpansion()
        if (target == null) then
            call StartGetEnemyBase(  )
            loop
                exitwhen (not WaitGetEnemyBase())
                call SuicideSleep( 1 )
            endloop
            set target = GetEnemyBase()
        endif
    endif

    // Target Priority #6
    if (target == null) then
        set target = GetCreepCamp( 0, 9, false )
    endif

    // Target Priority #7
    if (target == null) then
        set target = GetCreepCamp( 10, 100, true )
    endif

    // Attack the target and increment attack wave
    if (target != null) then
        call AttackTarget( target, setAlly )
    else
        // If no target was found, sleep a bit before trying again
        call Sleep( 20 )
    endif
endfunction

function AttackWaves takes nothing returns nothing
    //*** WAVE 1 ***
    call InitAssaultGroup()
    call CampaignAttackerEx( 2, 3, 3, GOBLIN_FLAMETHROWER )
    call CampaignAttackerEx( 0, 1, 2, GOBLIN_FLAME_SHREDDER )
	call AddStandardUnitsToAttackWave()
    call Sleep( M3 ) // Waits 3 minutes before attacking
    call LaunchAttack()

    //*** WAVE 1 ***
    call InitAssaultGroup()
    call CampaignAttackerEx( 2, 3, 3, GOBLIN_FLAMETHROWER )
    call CampaignAttackerEx( 0, 1, 2, GOBLIN_FLAME_SHREDDER )
	call AddStandardUnitsToAttackWave()
    call Sleep( M2 ) // Waits 2 minutes before attacking
    call LaunchAttack()

    //*** WAVE 2 ***
    call InitAssaultGroup()
    call CampaignAttackerEx( 3, 4, 4, GOBLIN_FLAMETHROWER )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_FLAME_SHREDDER )
	call AddStandardUnitsToAttackWave()
    call Sleep( M1 ) // Waits 1 minute before attacking
    call LaunchAttack()

    //*** WAVE 3 ***
    call InitAssaultGroup()
    call CampaignAttackerEx( 3, 4, 4, GOBLIN_FLAMETHROWER )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_FLAME_SHREDDER )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_FLAME_TANK )
	call AddStandardUnitsToAttackWave()
    call Sleep( M2 ) // Waits 2 minutes before attacking
    call LaunchAttack()


    //*** WAVE 4 ***
    call InitAssaultGroup()
    call CampaignAttackerEx( 3, 4, 4, GOBLIN_FLAMETHROWER )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_FLAME_SHREDDER )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_FLAME_TANK )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_ASSAULT_TANK )
	call AddStandardUnitsToAttackWave()
    call Sleep( M2 ) // Waits 2 minutes before attacking
    call LaunchAttack()

    //*** WAVE 5 ***
    call InitAssaultGroup()
    call CampaignAttackerEx( 3, 4, 4, GOBLIN_FLAMETHROWER )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_FLAME_SHREDDER )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_FLAME_TANK )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_ASSAULT_TANK )
    call CampaignAttackerEx( 2, 2, 3, GOBLIN_AIR_DRONE )
	call AddStandardUnitsToAttackWave()
    call Sleep( M2 ) // Waits 2 minutes before attacking
    call LaunchAttack()

    //*** WAVE 6 ***
    call InitAssaultGroup()
    call CampaignAttackerEx( 3, 4, 4, GOBLIN_FLAMETHROWER )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_FLAME_SHREDDER )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_FLAME_TANK )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_ASSAULT_TANK )
    call CampaignAttackerEx( 2, 2, 3, GOBLIN_AIR_DRONE )
	call AddStandardUnitsToAttackWave()
    call Sleep( M2 ) // Waits 2 minutes before attacking
    call LaunchAttack()

    //*** WAVE 7 ***
    call InitAssaultGroup()
    call CampaignAttackerEx( 3, 4, 4, GOBLIN_FLAMETHROWER )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_FLAME_SHREDDER )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_FLAME_TANK )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_ASSAULT_TANK )
    call CampaignAttackerEx( 2, 2, 3, GOBLIN_AIR_DRONE )
    call CampaignAttackerEx( 2, 2, 3, GOBLIN_SAPPER )
	call AddStandardUnitsToAttackWave()
    call Sleep( M2 ) // Waits 2 minutes before attacking
    call LaunchAttack()

    //*** WAVE 8 ***
    call InitAssaultGroup()
    call CampaignAttackerEx( 3, 4, 4, GOBLIN_FLAMETHROWER )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_FLAME_SHREDDER )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_FLAME_TANK )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_ASSAULT_TANK )
    call CampaignAttackerEx( 2, 2, 3, GOBLIN_AIR_DRONE )
    call CampaignAttackerEx( 2, 2, 3, GOBLIN_SAPPER )
    call CampaignAttackerEx( 2, 2, 3, GOBLIN_MAGE )
	call AddStandardUnitsToAttackWave()
    call Sleep( M2 ) // Waits 2 minutes before attacking
    call LaunchAttack()

    //*** WAVE 9 ***
    call InitAssaultGroup()
    call CampaignAttackerEx( 3, 4, 4, GOBLIN_FLAMETHROWER )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_FLAME_SHREDDER )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_FLAME_TANK )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_ASSAULT_TANK )
    call CampaignAttackerEx( 2, 2, 3, GOBLIN_AIR_DRONE )
    call CampaignAttackerEx( 2, 2, 3, GOBLIN_SAPPER )
    call CampaignAttackerEx( 2, 2, 3, GOBLIN_MAGE )
    call CampaignAttackerEx( 2, 2, 3, GOBLIN_FLAME_TANK )
	call CampaignAttackerEx( 2, 2, 3, OGRE_GOBLIN_SQUAD )
	call CampaignAttackerEx( 2, 2, 3, GOBLIN_EMPEROR )
	call CampaignAttackerEx( 2, 2, 3, GOBLIN_STEAM_ROLLER )
	call AddStandardUnitsToAttackWave()
    call Sleep( M2 ) // Waits 2 minutes before attacking
    call LaunchAttack()

    //*** WAVE 10 ***
    call InitAssaultGroup()
    call CampaignAttackerEx( 3, 4, 4, GOBLIN_FLAMETHROWER )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_FLAME_SHREDDER )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_FLAME_TANK )
    call CampaignAttackerEx( 1, 2, 3, GOBLIN_ASSAULT_TANK )
    call CampaignAttackerEx( 2, 2, 3, GOBLIN_AIR_DRONE )
    call CampaignAttackerEx( 2, 2, 3, GOBLIN_SAPPER )
    call CampaignAttackerEx( 2, 2, 3, GOBLIN_MAGE )
    call CampaignAttackerEx( 2, 2, 3, GOBLIN_FLAME_TANK )
    call CampaignAttackerEx( 2, 2, 3, GOBLIN_SORCERESS )
	call CampaignAttackerEx( 2, 2, 3, OGRE_GOBLIN_SQUAD )
	call CampaignAttackerEx( 2, 2, 3, GOBLIN_EMPEROR )
	call CampaignAttackerEx( 2, 2, 3, GOBLIN_STEAM_ROLLER )
	call AddStandardUnitsToAttackWave()
    call Sleep( M2 ) // Waits 2 minutes before attacking
    call LaunchAttack()

    loop //Init the infinite attack loop
        //*** WAVE 11 ***
        call InitAssaultGroup()
        
        // small ground army
        call CampaignAttackerEx( 2, 2, 2, GOBLIN_FLAMETHROWER )
        call CampaignAttackerEx( 2, 2, 2, GOBLIN_FLAME_SHREDDER )
        call CampaignAttackerEx( 2, 2, 2, GOBLIN_FLAME_TANK )
        call CampaignAttackerEx( 2, 2, 2, GOBLIN_ASSAULT_TANK )
        call CampaignAttackerEx( 2, 2, 2, GOBLIN_SAPPER )
        call CampaignAttackerEx( 2, 2, 2, GOBLIN_MAGE )
        call CampaignAttackerEx( 2, 2, 2, GOBLIN_FLAME_TANK )
        call CampaignAttackerEx( 2, 2, 2, GOBLIN_SORCERESS )
		call CampaignAttackerEx( 2, 2, 2, OGRE_GOBLIN_SQUAD )
		call CampaignAttackerEx( 2, 2, 2, GOBLIN_EMPEROR )
		call CampaignAttackerEx( 2, 2, 2, GOBLIN_STEAM_ROLLER )
		
		// big air army
        call CampaignAttackerEx( 6, 12, 18, GOBLIN_WAR_ZEPPELIN )
        call CampaignAttackerEx( 15, 20, 25, GOBLIN_AIR_DRONE )
		
		call AddStandardUnitsToAttackWave()
        call Sleep( M2 ) // Waits 2 minutes before attacking
        call LaunchAttack()
    endloop
endfunction

function main takes nothing returns nothing
    call CampaignAI( GOBLIN_HUT, function ChooseHeroSkill )
    call ConfigureAI( )
    call InitHero( )
	call StartThread(function UpdateWorkers)

    call BuildingStrategy( )

    call AttackWaves( )
endfunction
